{"version":3,"sources":["images/header__logo.svg","components/Header.js","components/SignForm.js","components/Loader.js","components/Login.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/InfoToolTip.js","components/ProtectedRoute.js","utils/utils.js","utils/api.js","utils/auth.js","components/App.js","index.js"],"names":["Header","isLoggedIn","userEmail","onSignOut","isLoading","location","useLocation","isLocationSignIn","pathname","isLocationMain","useState","menuIsOpen","setMenuIsOpen","handleToggleMenu","className","src","headerLogo","alt","onClick","type","aria-label","activeClassName","to","SignForm","title","name","buttonSubmitText","onSubmit","isLocationSignUp","email","setEmail","password","setPassword","emailValidationMessage","setEmailValidationMessage","passwordValidationMessage","setPasswordValidationMessage","isFormValid","setFormValid","emailInputInitial","setEmailInputInitial","passwordInputInitial","setPasswordInputInitial","useEffect","evt","preventDefault","noValidate","value","placeholder","required","minLength","maxLength","onChange","target","validationMessage","disabled","Loader","React","memo","Login","onLogin","Register","onRegister","CurrentUserContext","createContext","Card","card","onClickCard","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","link","length","Main","cards","editAvatar","editProfile","addPlace","style","backgroundImage","avatar","about","map","Footer","PopupWithForm","children","isOpen","onClose","loadingButtonSubmitText","isLoadingData","EditProfilePopup","onUpdateUser","setName","description","setDescription","inputValidName","setInputValidName","inputValidDescription","setInputValidDescription","nameValidationMessage","setNameValidationMessage","descriptionValidationMessage","setDescriptionValidationMessage","validity","valid","EditAvatarPopup","onUpdateAvatar","setLink","isValidationMessage","setIsValidationMessage","AddPlacePopup","onAddPlace","place","setPlace","placeValidationMessage","setPlaceValidationMessage","linkValidationMessage","setLinkValidationMessage","placeInputInitial","setPlaceInputInitial","linkInputInitial","setLinkInputInitial","DeleteCardPopup","onSubmitDelete","ImagePopup","InfoToolTip","isSuccess","ProtectedRoute","Component","component","props","settingsNetwork","urlServerAuth","urlServer","idCohort","token","api","this","_idCohort","_token","_urlServer","res","ok","json","Promise","reject","status","all","getUserInfo","getCards","fetch","headers","authorization","then","_checkResponse","user","method","body","JSON","stringify","isLikedStatus","auth","_urlServerAuth","Authorization","_handleOriginalResponse","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoToolTipPopupOpen","setInfoToolTipPopupOpen","isSuccessInfoToolTip","setIsSuccessInfoToolTip","selectedCard","setSelectedCard","setCurrentUser","setUserEmail","userPassword","setUserPassword","setCards","cardForDelete","setCardForDelete","setIsLoggedIn","setIsLoading","isLoadingSetUserInfo","setIsLoadingSetUserInfo","isLoadingAvatarUpdate","setIsLoadingAvatarUpdate","isLoadingAddPlaceSubmit","setIsLoadingAddPlaceSubmit","isLoadingDeleteCard","setIsLoadingDeleteCard","history","useHistory","closeAllPopups","handleCheckToken","jwt","localStorage","getItem","checkToken","data","push","catch","handleLogin","login","setItem","getInitialData","userData","cardsData","err","console","log","Provider","removeItem","exact","path","changeLike","newCard","currentCard","register","setUserInfo","finally","postCard","setUserAvatar","deleteCard","filter","cardDelete","isToolTipForm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8df9abf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.1f1e9591.svg\";","import React, { useState } from \"react\";\nimport headerLogo from \"../images/header__logo.svg\";\nimport { NavLink, useLocation } from \"react-router-dom\";\n\nfunction Header({ isLoggedIn, userEmail, onSignOut, isLoading }) {\n  const location = useLocation();\n  const isLocationSignIn = location.pathname === \"/sign-in\";\n  const isLocationMain = location.pathname === \"/\";\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\n\n  function handleSignIn() {}\n\n  function handleSignOut() {\n    onSignOut();\n    setMenuIsOpen(false);\n  }\n\n  function handleToggleMenu() {\n    setMenuIsOpen(!menuIsOpen);\n  }\n\n  return (\n    <header\n      className={`header ${!menuIsOpen ? \"page__container\" : \"\"} ${\n        menuIsOpen ? \"header_columned\" : \"\"\n      }`}\n    >\n      <div\n        className={`header__logo-container ${\n          menuIsOpen ? \"header__logo-container_type_column\" : \"\"\n        }`}\n      >\n        <img className=\"header__logo\" src={headerLogo} alt=\"Логотип\" />\n        <button\n          onClick={handleToggleMenu}\n          type=\"button\"\n          aria-label=\"Закрыть меню\"\n          className={`button-close button-close_place_header ${\n            menuIsOpen ? \"button-close_active\" : \"\"\n          }`}\n        ></button>\n      </div>\n\n      <div\n        onClick={handleToggleMenu}\n        className={`header__button-menu ${\n          !isLoggedIn || menuIsOpen ? \"header__button-menu_type_inactive\" : \"\"\n        }`}\n      >\n        <div className=\"header__burger-line\"></div>\n        <div className=\"header__burger-line\"></div>\n        <div className=\"header__burger-line\"></div>\n      </div>\n      {!isLoading && (\n        <nav\n          className={`header__nav-container ${\n            isLoggedIn && !menuIsOpen\n              ? \"header__nav-container_type_inactive\"\n              : \"\"\n          } ${menuIsOpen ? \"header__nav-container_type_column\" : \"\"} `}\n        >\n          <p className=\"header__email-user\">{isLoggedIn ? userEmail : \"\"}</p>\n          {!isLocationSignIn ? (\n            <NavLink\n              onClick={!isLoggedIn ? handleSignIn : handleSignOut}\n              className={`header__nav-item ${\n                isLocationMain ? \"header__nav-item_active\" : \"\"\n              }`}\n              to={\"/sign-in\"}\n            >\n              {isLoggedIn ? \"Выйти\" : \"Войти\"}\n            </NavLink>\n          ) : (\n            <NavLink\n              className=\"header__nav-item\"\n              activeClassName=\"header_nav-item_active\"\n              to={\"/sign-up\"}\n            >\n              {!isLoggedIn ? \"Регистрация\" : \"\"}\n            </NavLink>\n          )}\n        </nav>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nfunction SignForm({ title, name, buttonSubmitText, onSubmit }) {\n  const location = useLocation();\n  const isLocationSignUp = location.pathname === \"/sign-up\";\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [emailValidationMessage, setEmailValidationMessage] = useState(\"\");\n  const [passwordValidationMessage, setPasswordValidationMessage] =\n    useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n  const [emailInputInitial, setEmailInputInitial] = useState(true);\n  const [passwordInputInitial, setPasswordInputInitial] = useState(true);\n\n  useEffect(() => {\n    setFormValid(false);\n  }, []);\n\n  function handleEmail(evt) {\n    setEmail(evt.target.value);\n    setEmailInputInitial(false);\n    setEmailValidationMessage(evt.target.validationMessage);\n  }\n\n  function handlePassword(evt) {\n    setPassword(evt.target.value);\n    setPasswordInputInitial(false);\n    setPasswordValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmit({ email, password });\n  }\n\n  useEffect(() => {\n    if (\n      !emailValidationMessage &&\n      !passwordValidationMessage &&\n      !emailInputInitial &&\n      !passwordInputInitial\n    ) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [\n    emailInputInitial,\n    passwordInputInitial,\n    emailValidationMessage,\n    passwordValidationMessage,\n    email,\n    password,\n  ]);\n\n  return (\n    <div className=\"auth page__container\">\n      <h2 className=\"title title_place_auth\">{title}</h2>\n\n      <form\n        className=\"form\"\n        name={`form-edit-${name}`}\n        onSubmit={handleSubmit}\n        noValidate\n      >\n        <fieldset className=\"form__fieldset\">\n          <label className=\"form__label\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              placeholder=\"Email\"\n              className={`form__input form__input_type_auth ${\n                emailValidationMessage ? \"form__input_type_error\" : \"\"\n              }`}\n              required\n              minLength=\"6\"\n              maxLength=\"40\"\n              onChange={handleEmail}\n            />\n            <span\n              className={`form__input-error ${\n                emailValidationMessage ? \"form__input-error_active\" : \"\"\n              }`}\n            >\n              {emailValidationMessage}\n            </span>\n          </label>\n          <label className=\"popup__field\">\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              placeholder=\"Пароль\"\n              className={`form__input form__input_type_auth ${\n                passwordValidationMessage ? \"form__input_type_error\" : \"\"\n              }`}\n              required\n              minLength=\"6\"\n              maxLength=\"40\"\n              onChange={handlePassword}\n            />\n            <span\n              className={`form__input-error ${\n                passwordValidationMessage ? \"form__input-error_active\" : \"\"\n              }`}\n            >\n              {passwordValidationMessage}\n            </span>\n          </label>\n        </fieldset>\n\n        {\n          <button\n            type=\"submit\"\n            className={`form__button-submit form__button-submit_type_auth ${\n              !isFormValid ? \"form__button-submit_inactive\" : \"\"\n            }`}\n            disabled={!isFormValid}\n          >\n            {buttonSubmitText}\n          </button>\n        }\n        {isLocationSignUp && (\n          <div className=\"form__auth-container\">\n            <p className=\"form__auth-text\">Уже зарегистрированы?&nbsp;</p>\n            <Link className=\"form__auth-link\" to={\"/sign-in\"}>\n              Войти\n            </Link>\n          </div>\n        )}\n      </form>\n    </div>\n  );\n}\n\nexport default SignForm;\n","import React from \"react\";\nconst Loader = React.memo(({ isLoading }) => {\n  return (\n    isLoading && (\n      <div className=\"loader\">\n        <div className=\"loader__item\"></div>\n      </div>\n    )\n  );\n});\n\nexport default Loader;\n","import React from \"react\";\nimport SignForm from \"./SignForm\";\nimport Loader from \"./Loader.js\";\n\nfunction Login({ onLogin, isLoading }) {\n  return (\n    <>\n      <Loader isLoading={isLoading} />\n      {!isLoading && (\n        <SignForm\n          title=\"Вход\"\n          name=\"login\"\n          buttonSubmitText=\"Войти\"\n          onSubmit={onLogin}\n        />\n      )}\n    </>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport SignForm from \"./SignForm\";\n\nfunction Register({ onRegister }) {\n  return (\n    <SignForm\n      title=\"Регистрация\"\n      name=\"register\"\n      buttonSubmitText=\"Зарегистрироваться\"\n      onSubmit={onRegister}\n    />\n  );\n}\n\nexport default Register;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onClickCard, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const cardDeleteButtonClassName = `elements__button-remove ${\n    isOwn ? \"elements__button-remove_visible\" : \"elements__button-remove_hidden\"\n  }`;\n\n  const cardLikeButtonClassName = isLiked\n    ? \"elements__button-like elements__button-like_active\"\n    : \"elements__button-like\";\n\n  function handleClick() {\n    onClickCard(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <div className=\"elements__item\">\n      <img\n        className=\"elements__image\"\n        src={`${card.link}`}\n        alt={`${card.name}`}\n        onClick={handleClick}\n      />\n      <button\n        type=\"button\"\n        aria-label=\"Удалить\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n      <div className=\"elements__description\">\n        <h2 className=\"elements__name\">{card.name}</h2>\n        <div className=\"elements__like-container\">\n          <button\n            type=\"button\"\n            aria-label=\"Нравится\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <div className=\"elements__like-counter\">{card.likes.length}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  editAvatar,\n  editProfile,\n  addPlace,\n  onClickCard,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile page__container\">\n        <div\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={editAvatar}\n        ></div>\n        <div className=\"profile__info\">\n          <div className=\"profile__description\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              aria-label=\"Редактировать\"\n              className=\"profile__button-edit\"\n              onClick={editProfile}\n            ></button>\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"Добавить\"\n          className=\"profile__button-add-image\"\n          onClick={addPlace}\n        >\n          {\" \"}\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onClickCard={onClickCard}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React, { memo } from \"react\";\nconst Footer = memo(({ isLoggedIn }) => {\n  return (\n    isLoggedIn && (\n      <footer className=\"footer page__container\">\n        <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n      </footer>\n    )\n  );\n});\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  title,\n  name,\n  buttonSubmitText,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n  isFormValid,\n  loadingButtonSubmitText,\n  isLoadingData,\n}) {\n  return (\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container popup__container_form\">\n        <h2 className=\"title\">{title}</h2>\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          className=\"button-close\"\n          onClick={onClose}\n        ></button>\n        <form className=\"form\" name={name} onSubmit={onSubmit} noValidate>\n          {children}\n          <button\n            type=\"submit\"\n            className={`form__button-submit ${\n              !isFormValid ? \"form__button-submit_inactive\" : \"\"\n            }`}\n            disabled={!isFormValid}\n          >\n            {isLoadingData ? loadingButtonSubmitText : buttonSubmitText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoadingData }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = useState(\"Name\");\n  const [description, setDescription] = useState(\"About\");\n\n  const [inputValidName, setInputValidName] = useState(true);\n  const [inputValidDescription, setInputValidDescription] = useState(true);\n  const [nameValidationMessage, setNameValidationMessage] = useState(\"\");\n  const [descriptionValidationMessage, setDescriptionValidationMessage] =\n    useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n\n  useEffect(() => {\n    if (currentUser.name && currentUser.about) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n    setInputValidName(true);\n    setInputValidDescription(true);\n  }, [currentUser, isOpen]);\n\n  function handleName(evt) {\n    setName(evt.target.value);\n    setInputValidName(evt.target.validity.valid);\n    setNameValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleDescription(evt) {\n    setDescription(evt.target.value);\n    setInputValidDescription(evt.target.validity.valid);\n    setDescriptionValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  useEffect(() => {\n    if (inputValidName && inputValidDescription) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [inputValidName, inputValidDescription]);\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"user\"\n      buttonSubmitText=\"Сохранить\"\n      loadingButtonSubmitText=\"Загрузка...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoadingData={isLoadingData}\n      isFormValid={isFormValid}\n    >\n      <fieldset className=\"form__fieldset\">\n        <label className=\"form__label\">\n          <input\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Имя\"\n            className={`form__input ${\n              !inputValidName ? \"form__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={name}\n            onChange={handleName}\n          />\n          <span\n            className={`form__input-error ${\n              !inputValidName ? \"form__input-error_active\" : \"\"\n            }`}\n          >\n            {nameValidationMessage}\n          </span>\n        </label>\n        <label className=\"form__label\">\n          <input\n            type=\"text\"\n            name=\"about\"\n            placeholder=\"Что-то о себе\"\n            className={`form__input ${\n              !inputValidDescription ? \"form__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"2\"\n            maxLength=\"200\"\n            value={description}\n            onChange={handleDescription}\n          />\n          <span\n            className={`form__input-error ${\n              !inputValidDescription ? \"form__input-error_active\" : \"\"\n            }`}\n          >\n            {descriptionValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoadingData }) {\n  const [link, setLink] = useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n  const [isValidationMessage, setIsValidationMessage] = useState(\"\");\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({ avatar: link });\n  }\n\n  function handleChange(evt) {\n    setLink(evt.target.value);\n    setIsValidationMessage(evt.target.validationMessage);\n  }\n\n  useEffect(() => {\n    setFormValid(false);\n    setLink(\"\");\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (!isValidationMessage) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [isValidationMessage, link]);\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      buttonSubmitText=\"Сохранить\"\n      loadingButtonSubmitText=\"Сохранение...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoadingData={isLoadingData}\n      isFormValid={isFormValid}\n    >\n      <fieldset className=\"form__fieldset\">\n        <label className=\"form__label\">\n          <input\n            type=\"url\"\n            name=\"link\"\n            aria-label=\"Cсылка на изображение\"\n            placeholder=\"Cсылка на изображение\"\n            className={`form__input ${\n              isValidationMessage ? \"form__input_type_error\" : \"\"\n            }`}\n            required\n            value={link}\n            onChange={handleChange}\n          />\n          <span\n            className={`form__input-error ${\n              isValidationMessage ? \"form__input-error_active\" : \"\"\n            }`}\n          >\n            {isValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoadingData }) {\n  const [place, setPlace] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const [placeValidationMessage, setPlaceValidationMessage] = useState(\"\");\n  const [linkValidationMessage, setLinkValidationMessage] = useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n  const [placeInputInitial, setPlaceInputInitial] = useState(true);\n  const [linkInputInitial, setLinkInputInitial] = useState(true);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({ name: place, link });\n  }\n\n  function handlePlace(evt) {\n    setPlace(evt.target.value);\n    setPlaceInputInitial(false);\n    setPlaceValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleLink(evt) {\n    setLink(evt.target.value);\n    setLinkInputInitial(false);\n    setLinkValidationMessage(evt.target.validationMessage);\n  }\n\n  useEffect(() => {\n    setPlace(\"\");\n    setLink(\"\");\n    setFormValid(false);\n    setPlaceInputInitial(true);\n    setLinkInputInitial(true);\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (\n      !placeValidationMessage &&\n      !linkValidationMessage &&\n      !placeInputInitial &&\n      !linkInputInitial\n    ) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [\n    placeInputInitial,\n    linkInputInitial,\n    placeValidationMessage,\n    linkValidationMessage,\n    place,\n    link,\n  ]);\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"place\"\n      buttonSubmitText=\"Создать\"\n      loadingButtonSubmitText=\"Сохранение...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoadingData={isLoadingData}\n      isFormValid={isFormValid}\n    >\n      <fieldset className=\"form__fieldset\">\n        <label className=\"form__label\">\n          <input\n            type=\"text\"\n            name=\"place\"\n            placeholder=\"Название\"\n            className={`form__input ${\n              placeValidationMessage ? \"form__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"2\"\n            maxLength=\"30\"\n            value={place}\n            onChange={handlePlace}\n          />\n          <span\n            className={`form__input-error ${\n              placeValidationMessage ? \"form__input-error_active\" : \"\"\n            }`}\n          >\n            {placeValidationMessage}\n          </span>\n        </label>\n        <label className=\"form__label\">\n          <input\n            type=\"url\"\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            className={`form__input ${\n              linkValidationMessage ? \"form__input_type_error\" : \"\"\n            }`}\n            required\n            value={link}\n            onChange={handleLink}\n          />\n          <span\n            className={`form__input-error ${\n              linkValidationMessage ? \"form__input-error_active\" : \"\"\n            }`}\n          >\n            {linkValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction DeleteCardPopup({\n  isOpen,\n  onClose,\n  card,\n  onSubmitDelete,\n  isLoadingData,\n}) {\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmitDelete(card);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"remove\"\n      buttonSubmitText=\"Да\"\n      loadingButtonSubmitText=\"Удаление...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoadingData={isLoadingData}\n      isFormValid=\"true\"\n    ></PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div\n      className={`popup popup_type_image ${card.link ? \"popup_opened\" : \"\"}`}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          className=\"button-close popup__button-close\"\n          onClick={onClose}\n        ></button>\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__photo\"\n            src={`${card.link}`}\n            alt={`${card.name}`}\n          />\n          <div className=\"popup__caption\">{card.name}</div>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction InfoToolTip({ isOpen, isSuccess, onClose }) {\n  return (\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container popup__container_form\">\n        <div\n          className={`popup__tooltip-image ${\n            !isSuccess ? \"popup__tooltip-image_type_fail\" : \"\"\n          }`}\n        ></div>\n        <h2 className=\"title title_place_auth\">\n          {!isSuccess\n            ? \"Что-то пошло не так! Попробуйте еще раз.\"\n            : \"Вы успешно зарегистрировались!\"}\n        </h2>\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          className=\"button-close button-close_place_tooltip\"\n          onClick={onClose}\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","const settingsNetwork = {\n  urlServerAuth: \"https://auth.nomoreparties.co\",\n  urlServer: \"https://mesto.nomoreparties.co/v1\",\n  idCohort: \"cohort-22\",\n  token: \"9c2455fb-83bc-4950-8d50-36e17c0acd69\",\n};\n\nexport { settingsNetwork };\n","import { settingsNetwork } from \"./utils.js\";\nclass Api {\n  constructor({ idCohort, token, urlServer }) {\n    this._idCohort = idCohort;\n    this._token = token;\n    this._urlServer = urlServer;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n  }\n\n  getInitialData() {\n    return Promise.all([this.getUserInfo(), this.getCards()]);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._urlServer}/${this._idCohort}/users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkResponse);\n  }\n\n  getCards() {\n    return fetch(`${this._urlServer}/${this._idCohort}/cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkResponse);\n  }\n\n  setUserInfo(user) {\n    return fetch(`${this._urlServer}/${this._idCohort}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: user.name,\n        about: user.about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  setUserAvatar(link) {\n    return fetch(`${this._urlServer}/${this._idCohort}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  postCard(card) {\n    return fetch(`${this._urlServer}/${this._idCohort}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  changeLike(card, isLikedStatus) {\n    return fetch(\n      `${this._urlServer}/${this._idCohort}/cards/likes/${card._id}`,\n      {\n        method: !isLikedStatus ? \"DELETE\" : \"PUT\",\n        headers: {\n          authorization: this._token,\n        },\n      }\n    ).then(this._checkResponse);\n  }\n\n  getCountsOfLikes(card) {\n    return fetch(\n      `${this._urlServer}/${this._idCohort}/cards/likes/${card._id}`,\n      {\n        headers: {\n          authorization: this._token,\n        },\n      }\n    ).then(this._checkResponse);\n  }\n\n  deleteCard(card) {\n    return fetch(`${this._urlServer}/${this._idCohort}/cards/${card._id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api(settingsNetwork);\n\nexport default api;\n","import { settingsNetwork } from \"./utils.js\";\nclass Auth {\n  constructor({ urlServerAuth }) {\n    this._urlServerAuth = urlServerAuth;\n  }\n\n  _handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n  }\n\n  checkToken(token) {\n    return fetch(`${this._urlServerAuth}/users/me`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._handleOriginalResponse);\n  }\n\n  register({ email, password }) {\n    return fetch(`${this._urlServerAuth}/signup`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        password: password,\n        email: email,\n      }),\n    }).then(this._handleOriginalResponse);\n  }\n\n  login({ email, password }) {\n    return fetch(`${this._urlServerAuth}/signin`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        password: password,\n        email: email,\n      }),\n    }).then(this._handleOriginalResponse);\n  }\n}\n\nconst auth = new Auth(settingsNetwork);\n\nexport default auth;\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport \"../index.css\";\nimport Header from \"./Header.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport DeleteCardPopup from \"./DeleteCardPopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport InfoToolTip from \"./InfoToolTip\";\n\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport api from \"../utils/api.js\";\nimport auth from \"../utils/auth.js\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const [isInfoToolTipPopupOpen, setInfoToolTipPopupOpen] = useState(false);\n\n  const [isSuccessInfoToolTip, setIsSuccessInfoToolTip] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userPassword, setUserPassword] = useState(\"\");\n\n  const [cards, setCards] = useState([]);\n  const [cardForDelete, setCardForDelete] = useState({});\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [isLoadingSetUserInfo, setIsLoadingSetUserInfo] = useState(false);\n  const [isLoadingAvatarUpdate, setIsLoadingAvatarUpdate] = useState(false);\n  const [isLoadingAddPlaceSubmit, setIsLoadingAddPlaceSubmit] = useState(false);\n  const [isLoadingDeleteCard, setIsLoadingDeleteCard] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    handleCheckToken();\n    setIsSuccessInfoToolTip(false);\n  }, []);\n\n  useEffect(() => {\n    api\n      .getInitialData()\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleUpdateUser(user) {\n    setIsLoadingSetUserInfo(true);\n    api\n      .setUserInfo(user)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingSetUserInfo(false);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsLoadingAvatarUpdate(true);\n    api\n      .setUserAvatar(avatar)\n      .then((avatar) => {\n        setCurrentUser(avatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingAvatarUpdate(false);\n      });\n  }\n\n  function handleAddCard(card) {\n    setIsLoadingAddPlaceSubmit(true);\n    api\n      .postCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingAddPlaceSubmit(false);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLike(card, !isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((currentCard) =>\n            currentCard._id === card._id ? newCard : currentCard\n          )\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setIsLoadingDeleteCard(true);\n    api\n      .deleteCard(card)\n      .then(() => {\n        setCards(cards.filter((cardDelete) => cardDelete._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingDeleteCard(false);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function confirmCardDelete(card) {\n    setCardForDelete(card);\n    setIsDeleteCardPopupOpen(true);\n  }\n\n  function closeInfoToolTipPopup() {\n    closeAllPopups();\n    if (isSuccessInfoToolTip) {\n      handleLogin({ email: userEmail, password: userPassword });\n    }\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setInfoToolTipPopupOpen(false);\n    setSelectedCard({});\n    setCardForDelete({});\n  }\n\n  function handleCheckToken() {\n    setIsLoading(true);\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then((res) => {\n          setUserEmail(res.data.email);\n          setIsLoggedIn(true);\n          setIsLoading(false);\n          history.push(\"/\");\n        })\n        .catch(() => {\n          setIsSuccessInfoToolTip(false);\n          setInfoToolTipPopupOpen(true);\n        });\n    } else {\n      setIsLoading(false);\n      return;\n    }\n  }\n\n  function handleRegister(data) {\n    auth\n      .register(data)\n      .then((res) => {\n        setUserEmail(res.data.email);\n        setUserPassword(data.password);\n        setIsSuccessInfoToolTip(true);\n        setInfoToolTipPopupOpen(true);\n      })\n      .catch(() => {\n        setIsSuccessInfoToolTip(false);\n        setInfoToolTipPopupOpen(true);\n      });\n  }\n\n  function handleLogin(data) {\n    auth\n      .login(data)\n      .then((res) => {\n        localStorage.setItem(\"jwt\", res.token);\n        handleCheckToken();\n      })\n      .catch(() => {\n        setIsSuccessInfoToolTip(false);\n        setInfoToolTipPopupOpen(true);\n      });\n  }\n\n  function handleSignOut() {\n    setIsLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/sign-in\");\n    setUserEmail(\"\");\n    setUserPassword(\"\");\n    setIsSuccessInfoToolTip(null);\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          isLoggedIn={isLoggedIn}\n          userEmail={userEmail}\n          onSignOut={handleSignOut}\n          isLoading={isLoading}\n        />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            isLoggedIn={isLoggedIn}\n            editProfile={handleEditProfileClick}\n            addPlace={handleAddPlaceClick}\n            editAvatar={handleEditAvatarClick}\n            onClickCard={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={confirmCardDelete}\n          />\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} isLoading={isLoading} />\n          </Route>\n\n          <Route>\n            <Redirect to={!isLoggedIn ? \"/sign-in\" : \"/\"} />\n          </Route>\n        </Switch>\n        <Footer isLoggedIn={isLoggedIn} />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          currentUser={currentUser}\n          isLoadingData={isLoadingSetUserInfo}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddCard}\n          isLoadingData={isLoadingAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoadingData={isLoadingAvatarUpdate}\n        />\n\n        <DeleteCardPopup\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          card={cardForDelete}\n          onSubmitDelete={handleCardDelete}\n          isLoadingData={isLoadingDeleteCard}\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <InfoToolTip\n          isOpen={isInfoToolTipPopupOpen}\n          onClose={closeInfoToolTipPopup}\n          isSuccess={isSuccessInfoToolTip}\n          isToolTipForm={true}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}