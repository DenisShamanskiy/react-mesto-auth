{"version":3,"sources":["images/header__logo.svg","components/Header.js","components/PopupWithForm.js","components/Loader.js","components/Login.js","components/Register.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/InfoToolTip.js","components/ProtectedRoute.js","utils/utils.js","utils/api.js","utils/auth.js","components/App.js","index.js"],"names":["Header","isLoggedIn","userEmail","onSignOut","isLoading","location","useLocation","isLocationSignIn","pathname","isLocationMain","useState","menuIsOpen","setMenuIsOpen","handleToggleMenu","className","src","headerLogo","alt","onClick","type","aria-label","activeClassName","to","PopupWithForm","title","name","buttonSubmitText","children","isOpen","onClose","onSubmit","isFormValid","isAuthForm","isToolTipForm","isSuccess","loadingButtonSubmitText","isLoadingData","isLocationSignUp","noValidate","disabled","Loader","React","memo","Login","onLogin","email","setEmail","password","setPassword","emailValidationMessage","setEmailValidationMessage","passwordValidationMessage","setPasswordValidationMessage","setFormValid","emailInputInitial","setEmailInputInitial","passwordInputInitial","setPasswordInputInitial","useEffect","evt","preventDefault","value","placeholder","required","minLength","maxLength","onChange","target","validationMessage","Register","onRegister","CurrentUserContext","createContext","Card","card","onClickCard","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","link","length","Main","cards","editAvatar","editProfile","addPlace","style","backgroundImage","avatar","about","map","Footer","EditProfilePopup","onUpdateUser","setName","description","setDescription","inputValidName","setInputValidName","inputValidDescription","setInputValidDescription","nameValidationMessage","setNameValidationMessage","descriptionValidationMessage","setDescriptionValidationMessage","validity","valid","EditAvatarPopup","onUpdateAvatar","setLink","isValidationMessage","setIsValidationMessage","AddPlacePopup","onAddPlace","place","setPlace","placeValidationMessage","setPlaceValidationMessage","linkValidationMessage","setLinkValidationMessage","placeInputInitial","setPlaceInputInitial","linkInputInitial","setLinkInputInitial","DeleteCardPopup","onSubmitDelete","ImagePopup","InfoToolTip","ProtectedRoute","Component","component","props","settingsNetwork","urlServerAuth","urlServer","idCohort","token","api","this","_idCohort","_token","_urlServer","res","ok","json","Promise","reject","status","all","getUserInfo","getCards","fetch","headers","authorization","then","_checkResponse","user","method","body","JSON","stringify","isLikedStatus","auth","_urlServerAuth","Authorization","_handleOriginalResponse","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoToolTipPopupOpen","setInfoToolTipPopupOpen","isSuccessInfoToolTip","setIsSuccessInfoToolTip","selectedCard","setSelectedCard","setCurrentUser","setUserEmail","userPassword","setUserPassword","setCards","cardForDelete","setCardForDelete","setIsLoggedIn","setIsLoading","isLoadingSetUserInfo","setIsLoadingSetUserInfo","isLoadingAvatarUpdate","setIsLoadingAvatarUpdate","isLoadingAddPlaceSubmit","setIsLoadingAddPlaceSubmit","isLoadingDeleteCard","setIsLoadingDeleteCard","history","useHistory","closeAllPopups","handleCheckToken","jwt","localStorage","getItem","checkToken","data","push","catch","handleLogin","login","setItem","getInitialData","userData","cardsData","err","console","log","Provider","removeItem","exact","path","changeLike","newCard","currentCard","register","setUserInfo","finally","postCard","setUserAvatar","deleteCard","filter","cardDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.67dc281a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.1f1e9591.svg\";","import React, { useState } from \"react\";\nimport headerLogo from \"../images/header__logo.svg\";\nimport { NavLink, useLocation } from \"react-router-dom\";\n\nfunction Header({ isLoggedIn, userEmail, onSignOut, isLoading }) {\n  const location = useLocation();\n  const isLocationSignIn = location.pathname === \"/sign-in\";\n  const isLocationMain = location.pathname === \"/\";\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\n\n  function handleSignIn() {}\n\n  function handleSignOut() {\n    onSignOut();\n    setMenuIsOpen(false);\n  }\n\n  function handleToggleMenu() {\n    setMenuIsOpen(!menuIsOpen);\n  }\n\n  return (\n    <header\n      className={`header ${!menuIsOpen ? \"page__container\" : \"\"} ${\n        menuIsOpen ? \"header_columned\" : \"\"\n      }`}\n    >\n      <div\n        className={`header__logo-container ${\n          menuIsOpen ? \"header__logo-container_type_column\" : \"\"\n        }`}\n      >\n        <img className=\"header__logo\" src={headerLogo} alt=\"Логотип\" />\n        <button\n          onClick={handleToggleMenu}\n          type=\"button\"\n          aria-label=\"Закрыть меню\"\n          className={`header__button-close ${\n            menuIsOpen ? \"header__button-close_type_active\" : \"\"\n          }`}\n        ></button>\n      </div>\n      <div\n        onClick={handleToggleMenu}\n        className={`header__button-menu ${\n          !isLoggedIn || menuIsOpen ? \"header__button-menu_type_inactive\" : \"\"\n        }`}\n      >\n        <div className=\"header__burger-line\"></div>\n        <div className=\"header__burger-line\"></div>\n        <div className=\"header__burger-line\"></div>\n      </div>\n      {!isLoading && (\n        <nav\n          className={`header__nav-container ${\n            isLoggedIn && !menuIsOpen\n              ? \"header__nav-container_type_inactive\"\n              : \"\"\n          } ${menuIsOpen ? \"header__nav-container_type_column\" : \"\"} `}\n        >\n          <p className=\"header__email-user\">{isLoggedIn ? userEmail : \"\"}</p>\n          {!isLocationSignIn ? (\n            <NavLink\n              onClick={!isLoggedIn ? handleSignIn : handleSignOut}\n              className={`header__nav-item ${\n                isLocationMain ? \"header__nav-item_active\" : \"\"\n              }`}\n              to={\"/sign-in\"}\n            >\n              {isLoggedIn ? \"Выйти\" : \"Войти\"}\n            </NavLink>\n          ) : (\n            <NavLink\n              className=\"header__nav-item\"\n              activeClassName=\"header_nav-item_active\"\n              to={\"/sign-up\"}\n            >\n              {!isLoggedIn ? \"Регистрация\" : \"\"}\n            </NavLink>\n          )}\n        </nav>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nfunction PopupWithForm({\n  title,\n  name,\n  buttonSubmitText,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n  isFormValid,\n  isAuthForm,\n  isToolTipForm,\n  isSuccess,\n  loadingButtonSubmitText,\n  isLoadingData,\n}) {\n  const location = useLocation();\n  const isLocationSignUp = location.pathname === \"/sign-up\";\n\n  return (\n    <div\n      className={`popup ${isAuthForm ? \"popup_type_auth appear\" : \"\"} ${\n        isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div\n        className={`popup__container ${\n          !isAuthForm\n            ? \"popup__container_form\"\n            : \"popup__container_auth page__container\"\n        }`}\n      >\n        {isToolTipForm && (\n          <div\n            className={`popup__tooltip-image ${\n              !isSuccess ? \"popup__tooltip-image_type_fail\" : \"\"\n            }`}\n          ></div>\n        )}\n        <h2\n          className={`popup__title ${\n            isToolTipForm || isAuthForm ? \"popup__title_place_auth\" : \"\"\n          }`}\n        >\n          {title}\n        </h2>\n        {!isAuthForm && (\n          <button\n            type=\"button\"\n            aria-label=\"Закрыть\"\n            className={`popup__button-close ${\n              isToolTipForm ? \"popup__btn-close_place_tooltip\" : \"\"\n            }`}\n            onClick={onClose}\n          ></button>\n        )}\n        <form\n          className=\"popup__form\"\n          name={name}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          {!isToolTipForm && (\n            <button\n              type=\"submit\"\n              className={`popup__button-save ${\n                isAuthForm ? \"popup__button-save_type_auth\" : \"\"\n              } ${!isFormValid ? \"popup__button-save_inactive\" : \"\"}`}\n              disabled={!isFormValid}\n            >\n              {isLoadingData ? loadingButtonSubmitText : buttonSubmitText}\n            </button>\n          )}\n          {isLocationSignUp && !isToolTipForm && (\n            <div className=\"popup__auth-container\">\n              <p className=\"popup__auth-text\">Уже зарегистрированы?&nbsp;</p>\n              <Link className=\"popup__auth-link\" to={\"/sign-in\"}>\n                Войти\n              </Link>\n            </div>\n          )}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nconst Loader = React.memo(({ isLoading }) => {\n  return (\n    isLoading && (\n      <div className=\"loader\">\n        <div className=\"loader__item\"></div>\n      </div>\n    )\n  );\n});\n\nexport default Loader;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Loader from \"./Loader.js\";\n\nfunction Login({ isOpen, onLogin, isLoading }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [emailValidationMessage, setEmailValidationMessage] = useState(\"\");\n  const [passwordValidationMessage, setPasswordValidationMessage] =\n    useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n  const [emailInputInitial, setEmailInputInitial] = useState(true);\n  const [passwordInputInitial, setPasswordInputInitial] = useState(true);\n\n  useEffect(() => {\n    setFormValid(false);\n  }, [isOpen]);\n\n  function handleEmail(evt) {\n    setEmail(evt.target.value);\n    setEmailInputInitial(false);\n    setEmailValidationMessage(evt.target.validationMessage);\n  }\n\n  function handlePassword(evt) {\n    setPassword(evt.target.value);\n    setPasswordInputInitial(false);\n    setPasswordValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onLogin({ email, password });\n  }\n\n  useEffect(() => {\n    if (\n      !emailValidationMessage &&\n      !passwordValidationMessage &&\n      !emailInputInitial &&\n      !passwordInputInitial\n    ) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [\n    emailInputInitial,\n    passwordInputInitial,\n    emailValidationMessage,\n    passwordValidationMessage,\n    email,\n    password,\n  ]);\n\n  return (\n    <>\n      <Loader isLoading={isLoading} />\n      {!isLoading && (\n        <PopupWithForm\n          title=\"Вход\"\n          name=\"login\"\n          buttonSubmitText=\"Войти\"\n          isOpen={isOpen}\n          onSubmit={handleSubmit}\n          isFormValid={isFormValid}\n          isAuthForm={true}\n        >\n          <fieldset className=\"popup__fieldset\">\n            <label className=\"popup__label\">\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={email}\n                placeholder=\"Email\"\n                className={`popup__input popup__input_type_auth ${\n                  emailValidationMessage ? \"popup__input_type_error\" : \"\"\n                }`}\n                required\n                minLength=\"6\"\n                maxLength=\"40\"\n                onChange={handleEmail}\n              />\n              <span\n                className={`popup__input-error ${\n                  emailValidationMessage ? \"popup__input-error_active\" : \"\"\n                }`}\n              >\n                {emailValidationMessage}\n              </span>\n            </label>\n            <label className=\"popup__field\">\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                placeholder=\"Пароль\"\n                className={`popup__input popup__input_type_auth ${\n                  passwordValidationMessage ? \"popup__input_type_error\" : \"\"\n                }`}\n                required\n                minLength=\"6\"\n                maxLength=\"40\"\n                onChange={handlePassword}\n              />\n              <span\n                className={`popup__input-error ${\n                  passwordValidationMessage ? \"popup__input-error_active\" : \"\"\n                }`}\n              >\n                {passwordValidationMessage}\n              </span>\n            </label>\n          </fieldset>\n        </PopupWithForm>\n      )}\n    </>\n  );\n}\n\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction Register({ isOpen, onRegister }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [emailValidationMessage, setEmailValidationMessage] = useState(\"\");\n  const [passwordValidationMessage, setPasswordValidationMessage] =\n    useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n  const [emailInputInitial, setEmailInputInitial] = useState(true);\n  const [passwordInputInitial, setPasswordInputInitial] = useState(true);\n\n  useEffect(() => {\n    setFormValid(false);\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onRegister({ email, password });\n  }\n\n  function handleEmail(evt) {\n    setEmail(evt.target.value);\n    setEmailInputInitial(false);\n    setEmailValidationMessage(evt.target.validationMessage);\n  }\n\n  function handlePassword(evt) {\n    setPassword(evt.target.value);\n    setPasswordInputInitial(false);\n    setPasswordValidationMessage(evt.target.validationMessage);\n  }\n\n  useEffect(() => {\n    if (\n      !emailValidationMessage &&\n      !passwordValidationMessage &&\n      !emailInputInitial &&\n      !passwordInputInitial\n    ) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [\n    emailInputInitial,\n    passwordInputInitial,\n    emailValidationMessage,\n    passwordValidationMessage,\n    email,\n    password,\n  ]);\n\n  useEffect(() => {\n    setEmail(\"\");\n    setPassword(\"\");\n    setFormValid(false);\n    setEmailInputInitial(true);\n    setPasswordInputInitial(true);\n  }, []);\n\n  return (\n    <PopupWithForm\n      title=\"Регистрация\"\n      name=\"register\"\n      buttonSubmitText=\"Зарегистрироваться\"\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      isFormValid={isFormValid}\n      isAuthForm={true}\n    >\n      <fieldset className=\"popup__fieldset\">\n        <label className=\"popup__label\">\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            placeholder=\"Email\"\n            className={`popup__input popup__input_type_auth ${\n              emailValidationMessage ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"6\"\n            maxLength=\"40\"\n            onChange={handleEmail}\n          />\n          <span\n            className={`popup__input-error ${\n              emailValidationMessage ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {emailValidationMessage}\n          </span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            placeholder=\"Пароль\"\n            className={`popup__input popup__input_type_auth ${\n              passwordValidationMessage ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"6\"\n            maxLength=\"40\"\n            onChange={handlePassword}\n          />\n          <span\n            className={`popup__input-error ${\n              passwordValidationMessage ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {passwordValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onClickCard, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const cardDeleteButtonClassName = `elements__button-remove ${\n    isOwn ? \"elements__button-remove_visible\" : \"elements__button-remove_hidden\"\n  }`;\n\n  const cardLikeButtonClassName = isLiked\n    ? \"elements__button-like elements__button-like_active\"\n    : \"elements__button-like\";\n\n  function handleClick() {\n    onClickCard(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <div className=\"elements__item\">\n      <img\n        className=\"elements__image\"\n        src={`${card.link}`}\n        alt={`${card.name}`}\n        onClick={handleClick}\n      />\n      <button\n        type=\"button\"\n        aria-label=\"Удалить\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n      <div className=\"elements__description\">\n        <h2 className=\"elements__name\">{card.name}</h2>\n        <div className=\"elements__like-container\">\n          <button\n            type=\"button\"\n            aria-label=\"Нравится\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <div className=\"elements__like-counter\">{card.likes.length}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  cards,\n  editAvatar,\n  editProfile,\n  addPlace,\n  onClickCard,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile page__container\">\n        <div\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={editAvatar}\n        ></div>\n        <div className=\"profile__info\">\n          <div className=\"profile__description\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              aria-label=\"Редактировать\"\n              className=\"profile__button-edit\"\n              onClick={editProfile}\n            ></button>\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          aria-label=\"Добавить\"\n          className=\"profile__button-add-image\"\n          onClick={addPlace}\n        >\n          {\" \"}\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onClickCard={onClickCard}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React, { memo } from \"react\";\nconst Footer = memo(({ isLoggedIn }) => {\n  return (\n    isLoggedIn && (\n      <footer className=\"footer page__container\">\n        <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n      </footer>\n    )\n  );\n});\n\nexport default Footer;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoadingData }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = useState(\"Name\");\n  const [description, setDescription] = useState(\"About\");\n\n  const [inputValidName, setInputValidName] = useState(true);\n  const [inputValidDescription, setInputValidDescription] = useState(true);\n  const [nameValidationMessage, setNameValidationMessage] = useState(\"\");\n  const [descriptionValidationMessage, setDescriptionValidationMessage] =\n    useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n\n  useEffect(() => {\n    if (currentUser.name && currentUser.about) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n    setInputValidName(true);\n    setInputValidDescription(true);\n  }, [currentUser, isOpen]);\n\n  function handleName(evt) {\n    setName(evt.target.value);\n    setInputValidName(evt.target.validity.valid);\n    setNameValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleDescription(evt) {\n    setDescription(evt.target.value);\n    setInputValidDescription(evt.target.validity.valid);\n    setDescriptionValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  useEffect(() => {\n    if (inputValidName && inputValidDescription) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [inputValidName, inputValidDescription]);\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"user\"\n      buttonSubmitText=\"Сохранить\"\n      loadingButtonSubmitText=\"Загрузка...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoadingData={isLoadingData}\n      isFormValid={isFormValid}\n    >\n      <fieldset className=\"popup__fieldset\">\n        <label className=\"popup__label\">\n          <input\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Имя\"\n            className={`popup__input ${\n              !inputValidName ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={name}\n            onChange={handleName}\n          />\n          <span\n            className={`popup__input-error ${\n              !inputValidName ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {nameValidationMessage}\n          </span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"text\"\n            name=\"about\"\n            placeholder=\"Что-то о себе\"\n            className={`popup__input ${\n              !inputValidDescription ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"2\"\n            maxLength=\"200\"\n            value={description}\n            onChange={handleDescription}\n          />\n          <span\n            className={`popup__input-error ${\n              !inputValidDescription ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {descriptionValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoadingData }) {\n  const [link, setLink] = useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n  const [isValidationMessage, setIsValidationMessage] = useState(\"\");\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({ avatar: link });\n  }\n\n  function handleChange(evt) {\n    setLink(evt.target.value);\n    setIsValidationMessage(evt.target.validationMessage);\n  }\n\n  useEffect(() => {\n    setFormValid(false);\n    setLink(\"\");\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (!isValidationMessage) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [isValidationMessage, link]);\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      buttonSubmitText=\"Сохранить\"\n      loadingButtonSubmitText=\"Сохранение...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoadingData={isLoadingData}\n      isFormValid={isFormValid}\n    >\n      <fieldset className=\"popup__fieldset\">\n        <label className=\"popup__label\">\n          <input\n            type=\"url\"\n            name=\"link\"\n            aria-label=\"Cсылка на изображение\"\n            placeholder=\"Cсылка на изображение\"\n            className={`popup__input ${\n              isValidationMessage ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            value={link}\n            onChange={handleChange}\n          />\n          <span\n            className={`popup__input-error ${\n              isValidationMessage ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {isValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoadingData }) {\n  const [place, setPlace] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const [placeValidationMessage, setPlaceValidationMessage] = useState(\"\");\n  const [linkValidationMessage, setLinkValidationMessage] = useState(\"\");\n  const [isFormValid, setFormValid] = useState(false);\n  const [placeInputInitial, setPlaceInputInitial] = useState(true);\n  const [linkInputInitial, setLinkInputInitial] = useState(true);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({ name: place, link });\n  }\n\n  function handlePlace(evt) {\n    setPlace(evt.target.value);\n    setPlaceInputInitial(false);\n    setPlaceValidationMessage(evt.target.validationMessage);\n  }\n\n  function handleLink(evt) {\n    setLink(evt.target.value);\n    setLinkInputInitial(false);\n    setLinkValidationMessage(evt.target.validationMessage);\n  }\n\n  useEffect(() => {\n    setPlace(\"\");\n    setLink(\"\");\n    setFormValid(false);\n    setPlaceInputInitial(true);\n    setLinkInputInitial(true);\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (\n      !placeValidationMessage &&\n      !linkValidationMessage &&\n      !placeInputInitial &&\n      !linkInputInitial\n    ) {\n      setFormValid(true);\n    } else {\n      setFormValid(false);\n    }\n  }, [\n    placeInputInitial,\n    linkInputInitial,\n    placeValidationMessage,\n    linkValidationMessage,\n    place,\n    link,\n  ]);\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"place\"\n      buttonSubmitText=\"Создать\"\n      loadingButtonSubmitText=\"Сохранение...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoadingData={isLoadingData}\n      isFormValid={isFormValid}\n    >\n      <fieldset className=\"popup__fieldset\">\n        <label className=\"popup__label\">\n          <input\n            type=\"text\"\n            name=\"place\"\n            placeholder=\"Название\"\n            className={`popup__input ${\n              placeValidationMessage ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            minLength=\"2\"\n            maxLength=\"30\"\n            value={place}\n            onChange={handlePlace}\n          />\n          <span\n            className={`popup__input-error ${\n              placeValidationMessage ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {placeValidationMessage}\n          </span>\n        </label>\n        <label className=\"popup__field\">\n          <input\n            type=\"url\"\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            className={`popup__input ${\n              linkValidationMessage ? \"popup__input_type_error\" : \"\"\n            }`}\n            required\n            value={link}\n            onChange={handleLink}\n          />\n          <span\n            className={`popup__input-error ${\n              linkValidationMessage ? \"popup__input-error_active\" : \"\"\n            }`}\n          >\n            {linkValidationMessage}\n          </span>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction DeleteCardPopup({\n  isOpen,\n  onClose,\n  card,\n  onSubmitDelete,\n  isLoadingData,\n}) {\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmitDelete(card);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"remove\"\n      buttonSubmitText=\"Да\"\n      loadingButtonSubmitText=\"Удаление...\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isLoadingData={isLoadingData}\n      isFormValid=\"true\"\n    ></PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div\n      className={`popup popup_type_image ${card.link ? \"popup_opened\" : \"\"}`}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть\"\n          className=\"popup__button-close\"\n          onClick={onClose}\n        ></button>\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__photo\"\n            src={`${card.link}`}\n            alt={`${card.name}`}\n          />\n          <div className=\"popup__caption\">{card.name}</div>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction InfoToolTip({ isOpen, isSuccess, onClose, isToolTipForm }) {\n  return (\n    <PopupWithForm\n      title={\n        isSuccess\n          ? \"Вы успешно зарегистрировались!\"\n          : \"Что-то пошло не так! Попробуйте еще раз.\"\n      }\n      name=\"infoToolTip\"\n      isOpen={isOpen}\n      onClose={onClose}\n      isToolTipForm={isToolTipForm}\n      isSuccess={isSuccess}\n    ></PopupWithForm>\n  );\n}\n\nexport default InfoToolTip;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","const settingsNetwork = {\n  urlServerAuth: \"https://auth.nomoreparties.co\",\n  urlServer: \"https://mesto.nomoreparties.co/v1\",\n  idCohort: \"cohort-22\",\n  token: \"9c2455fb-83bc-4950-8d50-36e17c0acd69\",\n};\n\nexport { settingsNetwork };\n","import { settingsNetwork } from \"./utils.js\";\nclass Api {\n  constructor({ idCohort, token, urlServer }) {\n    this._idCohort = idCohort;\n    this._token = token;\n    this._urlServer = urlServer;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n  }\n\n  getInitialData() {\n    return Promise.all([this.getUserInfo(), this.getCards()]);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._urlServer}/${this._idCohort}/users/me`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkResponse);\n  }\n\n  getCards() {\n    return fetch(`${this._urlServer}/${this._idCohort}/cards`, {\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkResponse);\n  }\n\n  setUserInfo(user) {\n    return fetch(`${this._urlServer}/${this._idCohort}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: user.name,\n        about: user.about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  setUserAvatar(link) {\n    return fetch(`${this._urlServer}/${this._idCohort}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  postCard(card) {\n    return fetch(`${this._urlServer}/${this._idCohort}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  changeLike(card, isLikedStatus) {\n    return fetch(\n      `${this._urlServer}/${this._idCohort}/cards/likes/${card._id}`,\n      {\n        method: !isLikedStatus ? \"DELETE\" : \"PUT\",\n        headers: {\n          authorization: this._token,\n        },\n      }\n    ).then(this._checkResponse);\n  }\n\n  getCountsOfLikes(card) {\n    return fetch(\n      `${this._urlServer}/${this._idCohort}/cards/likes/${card._id}`,\n      {\n        headers: {\n          authorization: this._token,\n        },\n      }\n    ).then(this._checkResponse);\n  }\n\n  deleteCard(card) {\n    return fetch(`${this._urlServer}/${this._idCohort}/cards/${card._id}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api(settingsNetwork);\n\nexport default api;\n","import { settingsNetwork } from \"./utils.js\";\nclass Auth {\n  constructor({ urlServerAuth }) {\n    this._urlServerAuth = urlServerAuth;\n  }\n\n  _handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status}`);\n    }\n  }\n\n  checkToken(token) {\n    return fetch(`${this._urlServerAuth}/users/me`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._handleOriginalResponse);\n  }\n\n  register({ email, password }) {\n    return fetch(`${this._urlServerAuth}/signup`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        password: password,\n        email: email,\n      }),\n    }).then(this._handleOriginalResponse);\n  }\n\n  login({ email, password }) {\n    return fetch(`${this._urlServerAuth}/signin`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        password: password,\n        email: email,\n      }),\n    }).then(this._handleOriginalResponse);\n  }\n}\n\nconst auth = new Auth(settingsNetwork);\n\nexport default auth;\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport \"../index.css\";\nimport Header from \"./Header.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport DeleteCardPopup from \"./DeleteCardPopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport InfoToolTip from \"./InfoToolTip\";\n\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport api from \"../utils/api.js\";\nimport auth from \"../utils/auth.js\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const [isInfoToolTipPopupOpen, setInfoToolTipPopupOpen] = useState(false);\n\n  const [isSuccessInfoToolTip, setIsSuccessInfoToolTip] = useState(null);\n\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userPassword, setUserPassword] = useState(\"\");\n\n  const [cards, setCards] = useState([]);\n  const [cardForDelete, setCardForDelete] = useState({});\n  const [isLoggedIn, setIsLoggedIn] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [isLoadingSetUserInfo, setIsLoadingSetUserInfo] = useState(false);\n  const [isLoadingAvatarUpdate, setIsLoadingAvatarUpdate] = useState(false);\n  const [isLoadingAddPlaceSubmit, setIsLoadingAddPlaceSubmit] = useState(false);\n  const [isLoadingDeleteCard, setIsLoadingDeleteCard] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    handleCheckToken();\n    setIsSuccessInfoToolTip(false);\n  }, []);\n\n  useEffect(() => {\n    api\n      .getInitialData()\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleUpdateUser(user) {\n    setIsLoadingSetUserInfo(true);\n    api\n      .setUserInfo(user)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingSetUserInfo(false);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsLoadingAvatarUpdate(true);\n    api\n      .setUserAvatar(avatar)\n      .then((avatar) => {\n        setCurrentUser(avatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingAvatarUpdate(false);\n      });\n  }\n\n  function handleAddCard(card) {\n    setIsLoadingAddPlaceSubmit(true);\n    api\n      .postCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingAddPlaceSubmit(false);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLike(card, !isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((currentCard) =>\n            currentCard._id === card._id ? newCard : currentCard\n          )\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setIsLoadingDeleteCard(true);\n    api\n      .deleteCard(card)\n      .then(() => {\n        setCards(cards.filter((cardDelete) => cardDelete._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingDeleteCard(false);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function confirmCardDelete(card) {\n    setCardForDelete(card);\n    setIsDeleteCardPopupOpen(true);\n  }\n\n  function closeInfoToolTipPopup() {\n    closeAllPopups();\n    if (isSuccessInfoToolTip) {\n      handleLogin({ email: userEmail, password: userPassword });\n    }\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setInfoToolTipPopupOpen(false);\n    setSelectedCard({});\n    setCardForDelete({});\n  }\n\n  function handleCheckToken() {\n    setIsLoading(true);\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then((res) => {\n          setUserEmail(res.data.email);\n          setIsLoggedIn(true);\n          setIsLoading(false);\n          history.push(\"/\");\n        })\n        .catch(() => {\n          setIsSuccessInfoToolTip(false);\n          setInfoToolTipPopupOpen(true);\n        });\n    } else {\n      setIsLoading(false);\n      return;\n    }\n  }\n\n  function handleRegister(data) {\n    auth\n      .register(data)\n      .then((res) => {\n        setUserEmail(res.data.email);\n        setUserPassword(data.password);\n        setIsSuccessInfoToolTip(true);\n        setInfoToolTipPopupOpen(true);\n      })\n      .catch(() => {\n        setIsSuccessInfoToolTip(false);\n        setInfoToolTipPopupOpen(true);\n      });\n  }\n\n  function handleLogin(data) {\n    auth\n      .login(data)\n      .then((res) => {\n        localStorage.setItem(\"jwt\", res.token);\n        handleCheckToken();\n      })\n      .catch(() => {\n        setIsSuccessInfoToolTip(false);\n        setInfoToolTipPopupOpen(true);\n      });\n  }\n\n  function handleSignOut() {\n    setIsLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/sign-in\");\n    setUserEmail(\"\");\n    setUserPassword(\"\");\n    setIsSuccessInfoToolTip(null);\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          isLoggedIn={isLoggedIn}\n          userEmail={userEmail}\n          onSignOut={handleSignOut}\n          isLoading={isLoading}\n        />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            isLoggedIn={isLoggedIn}\n            editProfile={handleEditProfileClick}\n            addPlace={handleAddPlaceClick}\n            editAvatar={handleEditAvatarClick}\n            onClickCard={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={confirmCardDelete}\n          />\n          <Route path=\"/sign-up\">\n            <Register isOpen={true} onRegister={handleRegister} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login isOpen={true} onLogin={handleLogin} isLoading={isLoading} />\n          </Route>\n\n          <Route>\n            <Redirect to={!isLoggedIn ? \"/sign-in\" : \"/\"} />\n          </Route>\n        </Switch>\n        <Footer isLoggedIn={isLoggedIn} />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          currentUser={currentUser}\n          isLoadingData={isLoadingSetUserInfo}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddCard}\n          isLoadingData={isLoadingAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoadingData={isLoadingAvatarUpdate}\n        />\n\n        <DeleteCardPopup\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          card={cardForDelete}\n          onSubmitDelete={handleCardDelete}\n          isLoadingData={isLoadingDeleteCard}\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <InfoToolTip\n          isOpen={isInfoToolTipPopupOpen}\n          onClose={closeInfoToolTipPopup}\n          isSuccess={isSuccessInfoToolTip}\n          isToolTipForm={true}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}